<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Architect - Premium City Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login/Registration Screen -->
    <div id="loginOverlay" class="menu-overlay">
        <div class="menu-panel">
            <h1 class="menu-title">Memory Architect</h1>
            <p class="menu-subtitle">Premium City Management Experience</p>
            
            <div id="loginForm" class="login-form">
                <form id="authForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter username" autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter password" autocomplete="current-password">
                    </div>
                </form>
                <div class="menu-buttons">
                    <button id="loginBtn" class="btn">Login</button>
                    <button id="registerBtn" class="btn btn-secondary">Register</button>
                    <button id="guestBtn" class="btn btn-guest">Play as Guest</button>
                </div>
                <div class="feature-info">
                    <h3>Registered User Benefits</h3>
                    <ul>
                        <li>🏆 Ranking Participation</li>
                        <li>🛒 Shop Access</li>
                        <li>💾 Progress Saving</li>
                        <li>🎯 Achievement System</li>
                    </ul>
                    <p class="guest-note">※ Shop and ranking features are not available in guest play</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Menu Screen -->
    <div id="menuOverlay" class="menu-overlay" style="display: none;">
        <div class="menu-panel">
            <h1 class="menu-title">Memory Architect</h1>
            <p class="menu-subtitle" id="welcomeMessage">Premium City Management Experience</p>
            <div class="menu-buttons">
                <button id="startGameBtn" class="btn">Start Game</button>
                <button id="tutorialBtn" class="btn btn-secondary">Tutorial</button>
                <button id="shopBtn" class="btn btn-shop" style="display: none;">Shop</button>
                <button id="rankingBtn" class="btn btn-ranking" style="display: none;">Ranking</button>
                <button id="logoutBtn" class="btn btn-logout">Logout</button>
            </div>
        </div>
    </div>

    <!-- Shop Screen -->
    <div id="shopOverlay" class="menu-overlay" style="display: none;">
        <div class="shop-panel">
            <h2 class="shop-title">🛒 Memory Shop</h2>
            <div class="currency-display">
                <span class="currency-label">💰 Memory Coins:</span>
                <span id="shopCurrency" class="currency-amount">0</span>
            </div>
            
            <div class="shop-categories">
                <div class="shop-category">
                    <h3>⚡ Boost Items</h3>
                    <div class="shop-items">
                        <div class="shop-item" data-item="memory_boost_5">
                            <div class="item-icon">🧠</div>
                            <div class="item-info">
                                <h4>Memory Generation Boost (5 min)</h4>
                                <p>Memory generation speed +50%</p>
                                <span class="item-price">💰 100</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="memory_boost_10">
                            <div class="item-icon">🧠</div>
                            <div class="item-info">
                                <h4>Memory Generation Boost (10 min)</h4>
                                <p>Memory generation speed +50%</p>
                                <span class="item-price">💰 180</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="memory_boost_30">
                            <div class="item-icon">🧠</div>
                            <div class="item-info">
                                <h4>Memory Generation Boost (30 min)</h4>
                                <p>Memory generation speed +50%</p>
                                <span class="item-price">💰 450</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="shop-category">
                    <h3>🤖 Assistants</h3>
                    <div class="shop-items">
                        <div class="shop-item" data-item="assistant_5">
                            <div class="item-icon">🤖</div>
                            <div class="item-info">
                                <h4>Memory Assistant (5 min)</h4>
                                <p>Automatically distributes memories</p>
                                <span class="item-price">💰 200</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="assistant_10">
                            <div class="item-icon">🤖</div>
                            <div class="item-info">
                                <h4>Memory Assistant (10 min)</h4>
                                <p>Automatically distributes memories</p>
                                <span class="item-price">💰 350</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="assistant_30">
                            <div class="item-icon">🤖</div>
                            <div class="item-info">
                                <h4>Memory Assistant (30 min)</h4>
                                <p>Automatically distributes memories</p>
                                <span class="item-price">💰 900</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="shop-category">
                    <h3>⏰ Offline Progress</h3>
                    <div class="shop-items">
                        <div class="shop-item" data-item="offline_1">
                            <div class="item-icon">⏰</div>
                            <div class="item-info">
                                <h4>Offline Progress (1 hour)</h4>
                                <p>Game continues when away</p>
                                <span class="item-price">💰 300</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="offline_3">
                            <div class="item-icon">⏰</div>
                            <div class="item-info">
                                <h4>Offline Progress (3 hours)</h4>
                                <p>Game continues when away</p>
                                <span class="item-price">💰 800</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="offline_5">
                            <div class="item-icon">⏰</div>
                            <div class="item-info">
                                <h4>Offline Progress (5 hours)</h4>
                                <p>Game continues when away</p>
                                <span class="item-price">💰 1200</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="shop-actions">
                <button id="closeShopBtn" class="btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Ranking Screen -->
    <div id="rankingOverlay" class="menu-overlay" style="display: none;">
        <div class="ranking-panel">
            <h2 class="ranking-title">🏆 Ranking</h2>
            <div id="rankingList" class="ranking-list">
                <!-- Ranking data will be dynamically inserted -->
            </div>
            <div class="ranking-actions">
                <button id="closeRankingBtn" class="btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Tutorial Screen -->
    <div id="tutorialOverlay" class="tutorial-overlay">
        <div class="tutorial-panel">
            <h2 class="tutorial-title">Memory Architect Tutorial</h2>
            <div id="tutorialContent" class="tutorial-content">
                <!-- Tutorial content will be dynamically inserted -->
            </div>
            <div class="tutorial-navigation">
                <button id="tutorialPrev" class="btn btn-secondary">Previous</button>
                <button id="tutorialNext" class="btn">Next</button>
                <button id="tutorialSkip" class="btn btn-secondary">Skip</button>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" style="display: none;">
        <header class="game-header">
            <h1 class="game-title">🧠 MEMORY ARCHITECT - NEURAL CITY MANAGEMENT 🏙️</h1>
            <div class="header-controls">
                <div class="currency-display-game">
                    <span class="currency-label">💰</span>
                    <span id="gameCurrency" class="currency-amount">0</span>
                </div>
                <div class="speed-controls">
                    <label>Speed:</label>
                    <button id="speed1x" class="speed-btn active">1x</button>
                    <button id="speed2x" class="speed-btn">2x</button>
                    <button id="speed3x" class="speed-btn">3x</button>
                </div>
                <button id="openShopInGame" class="btn btn-small" style="display: none;">Shop</button>
                <button id="pauseBtn" class="btn btn-small">Pause</button>
                <button id="menuBtn" class="btn btn-small">Menu</button>
            </div>
        </header>
        
        <div class="game-content">
            <div id="gameContainer" class="gameContainer">
                <canvas id="gameCanvas" width="1200" height="700"></canvas>
                <div id="tooltip" class="building-tooltip" style="display: none;"></div>
                
                <!-- Active Items Display -->
                <div id="activeItems" class="active-items">
                    <!-- Active items will be displayed here -->
                </div>
            </div>
            
            <div class="ui-panel">
                <div class="memory-stats">
                    <div class="memory-stat">
                        <div class="memory-icon love"></div>
                        <div>
                            <div class="stat-label">LOVE</div>
                            <div class="stat-value" id="loveCount">0</div>
                        </div>
                    </div>
                    <div class="memory-stat">
                        <div class="memory-icon knowledge"></div>
                        <div>
                            <div class="stat-label">KNOWLEDGE</div>
                            <div class="stat-value" id="knowledgeCount">0</div>
                        </div>
                    </div>
                    <div class="memory-stat">
                        <div class="memory-icon adventure"></div>
                        <div>
                            <div class="stat-label">ADVENTURE</div>
                            <div class="stat-value" id="adventureCount">0</div>
                        </div>
                    </div>
                    <div class="memory-stat">
                        <div class="memory-icon peace"></div>
                        <div>
                            <div class="stat-label">PEACE</div>
                            <div class="stat-value" id="peaceCount">0</div>
                        </div>
                    </div>
                    <div class="memory-stat">
                        <div class="memory-icon nostalgia"></div>
                        <div>
                            <div class="stat-label">NOSTALGIA</div>
                            <div class="stat-value" id="nostalgiaCount">0</div>
                        </div>
                    </div>
                    <div class="memory-stat">
                        <div class="memory-icon courage"></div>
                        <div>
                            <div class="stat-label">COURAGE</div>
                            <div class="stat-value" id="courageCount">0</div>
                        </div>
                    </div>
                </div>
                
                <div class="game-stats">
                    <div>
                        <div class="stat-label">Citizen Satisfaction</div>
                        <div class="stat-value" id="satisfaction">0%</div>
                    </div>
                    <div>
                        <div class="stat-label">Elapsed Time</div>
                        <div class="stat-value" id="gameTime">0s</div>
                    </div>
                    <div>
                        <div class="stat-label">Buildings</div>
                        <div class="stat-value" id="buildingCount">0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            <div class="memory-stat">
                <div class="memory-icon love"></div>
                <div>
                    <div class="stat-label">LOVE</div>
                    <div class="stat-value" id="loveCount">0</div>
                </div>
            </div>
            <div class="memory-stat">
                <div class="memory-icon knowledge"></div>
                <div>
                    <div class="stat-label">KNOWLEDGE</div>
                    <div class="stat-value" id="knowledgeCount">0</div>
                </div>
            </div>
            <div class="memory-stat">
                <div class="memory-icon adventure"></div>
                <div>
                    <div class="stat-label">ADVENTURE</div>
                    <div class="stat-value" id="adventureCount">0</div>
                </div>
            </div>
            <div class="memory-stat">
                <div class="memory-icon peace"></div>
                <div>
                    <div class="stat-label">PEACE</div>
                    <div class="stat-value" id="peaceCount">0</div>
                </div>
            </div>
            <div class="memory-stat">
                <div class="memory-icon nostalgia"></div>
                <div>
                    <div class="stat-label">NOSTALGIA</div>
                    <div class="stat-value" id="nostalgiaCount">0</div>
                </div>
            </div>
            <div class="memory-stat">
                <div class="memory-icon courage"></div>
                <div>
                    <div class="stat-label">COURAGE</div>
                    <div class="stat-value" id="courageCount">0</div>
                </div>
            </div>
            <div class="game-stats">
                <div>
                    <div class="stat-label">市民満足度</div>
                    <div class="stat-value" id="satisfaction">0%</div>
                </div>
                <div>
                    <div class="stat-label">経過時間</div>
                    <div class="stat-value" id="gameTime">0s</div>
                </div>
                <div>
                    <div class="stat-label">昇天した魂</div>
                    <div class="stat-value" id="dissolvedCount">0</div>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>