<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Architect - Premium City Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ログイン/登録画面 -->
    <div id="loginOverlay" class="menu-overlay">
        <div class="menu-panel">
            <h1 class="menu-title">Memory Architect</h1>
            <p class="menu-subtitle">Premium City Management Experience</p>
            
            <div id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">ユーザー名</label>
                    <input type="text" id="username" placeholder="ユーザー名を入力">
                </div>
                <div class="form-group">
                    <label for="password">パスワード</label>
                    <input type="password" id="password" placeholder="パスワードを入力">
                </div>
                <div class="menu-buttons">
                    <button id="loginBtn" class="btn">ログイン</button>
                    <button id="registerBtn" class="btn btn-secondary">新規登録</button>
                    <button id="guestBtn" class="btn btn-guest">ゲストでプレイ</button>
                </div>
                <div class="feature-info">
                    <h3>登録ユーザー特典</h3>
                    <ul>
                        <li>🏆 ランキング参加</li>
                        <li>🛒 ショップ利用</li>
                        <li>💾 進行状況保存</li>
                        <li>🎯 実績システム</li>
                    </ul>
                    <p class="guest-note">※ ゲストプレイではショップとランキング機能は利用できません</p>
                </div>
            </div>
        </div>
    </div>

    <!-- メインメニュー画面 -->
    <div id="menuOverlay" class="menu-overlay" style="display: none;">
        <div class="menu-panel">
            <h1 class="menu-title">Memory Architect</h1>
            <p class="menu-subtitle" id="welcomeMessage">Premium City Management Experience</p>
            <div class="menu-buttons">
                <button id="startGameBtn" class="btn">ゲーム開始</button>
                <button id="tutorialBtn" class="btn btn-secondary">チュートリアル</button>
                <button id="shopBtn" class="btn btn-shop" style="display: none;">ショップ</button>
                <button id="rankingBtn" class="btn btn-ranking" style="display: none;">ランキング</button>
                <button id="logoutBtn" class="btn btn-logout">ログアウト</button>
            </div>
        </div>
    </div>

    <!-- ショップ画面 -->
    <div id="shopOverlay" class="menu-overlay" style="display: none;">
        <div class="shop-panel">
            <h2 class="shop-title">🛒 メモリーショップ</h2>
            <div class="currency-display">
                <span class="currency-label">💰 メモリーコイン:</span>
                <span id="shopCurrency" class="currency-amount">0</span>
            </div>
            
            <div class="shop-categories">
                <div class="shop-category">
                    <h3>⚡ ブーストアイテム</h3>
                    <div class="shop-items">
                        <div class="shop-item" data-item="memory_boost_5">
                            <div class="item-icon">🧠</div>
                            <div class="item-info">
                                <h4>記憶生成ブースト (5分)</h4>
                                <p>記憶生成速度 +50%</p>
                                <span class="item-price">💰 100</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="memory_boost_10">
                            <div class="item-icon">🧠</div>
                            <div class="item-info">
                                <h4>記憶生成ブースト (10分)</h4>
                                <p>記憶生成速度 +50%</p>
                                <span class="item-price">💰 180</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="memory_boost_30">
                            <div class="item-icon">🧠</div>
                            <div class="item-info">
                                <h4>記憶生成ブースト (30分)</h4>
                                <p>記憶生成速度 +50%</p>
                                <span class="item-price">💰 450</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="shop-category">
                    <h3>🤖 アシスタント</h3>
                    <div class="shop-items">
                        <div class="shop-item" data-item="assistant_5">
                            <div class="item-icon">🤖</div>
                            <div class="item-info">
                                <h4>メモリーアシスタント (5分)</h4>
                                <p>自動で記憶を配布</p>
                                <span class="item-price">💰 200</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="assistant_10">
                            <div class="item-icon">🤖</div>
                            <div class="item-info">
                                <h4>メモリーアシスタント (10分)</h4>
                                <p>自動で記憶を配布</p>
                                <span class="item-price">💰 350</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="assistant_30">
                            <div class="item-icon">🤖</div>
                            <div class="item-info">
                                <h4>メモリーアシスタント (30分)</h4>
                                <p>自動で記憶を配布</p>
                                <span class="item-price">💰 900</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="shop-category">
                    <h3>⏰ オフライン進行</h3>
                    <div class="shop-items">
                        <div class="shop-item" data-item="offline_1">
                            <div class="item-icon">⏰</div>
                            <div class="item-info">
                                <h4>オフライン進行 (1時間)</h4>
                                <p>タブを離れても進行</p>
                                <span class="item-price">💰 300</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="offline_3">
                            <div class="item-icon">⏰</div>
                            <div class="item-info">
                                <h4>オフライン進行 (3時間)</h4>
                                <p>タブを離れても進行</p>
                                <span class="item-price">💰 800</span>
                            </div>
                        </div>
                        <div class="shop-item" data-item="offline_5">
                            <div class="item-icon">⏰</div>
                            <div class="item-info">
                                <h4>オフライン進行 (5時間)</h4>
                                <p>タブを離れても進行</p>
                                <span class="item-price">💰 1200</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="shop-actions">
                <button id="closeShopBtn" class="btn btn-secondary">閉じる</button>
            </div>
        </div>
    </div>

    <!-- ランキング画面 -->
    <div id="rankingOverlay" class="menu-overlay" style="display: none;">
        <div class="ranking-panel">
            <h2 class="ranking-title">🏆 ランキング</h2>
            <div id="rankingList" class="ranking-list">
                <!-- ランキングデータが動的に挿入されます -->
            </div>
            <div class="ranking-actions">
                <button id="closeRankingBtn" class="btn btn-secondary">閉じる</button>
            </div>
        </div>
    </div>

    <!-- チュートリアル画面 -->
    <div id="tutorialOverlay" class="tutorial-overlay">
        <div class="tutorial-panel">
            <h2 class="tutorial-title">Memory Architect Tutorial</h2>
            <div id="tutorialContent" class="tutorial-content">
                <!-- チュートリアルコンテンツが動的に挿入されます -->
            </div>
            <div class="tutorial-navigation">
                <button id="tutorialPrev" class="btn btn-secondary">前へ</button>
                <button id="tutorialNext" class="btn">次へ</button>
                <button id="tutorialSkip" class="btn btn-secondary">スキップ</button>
            </div>
        </div>
    </div>

    <!-- ゲーム画面 -->
    <div id="gameScreen" style="display: none;">
        <header class="game-header">
            <h1 class="game-title">🧠 MEMORY ARCHITECT - NEURAL CITY MANAGEMENT 🏙️</h1>
            <div class="header-controls">
                <div class="currency-display-game">
                    <span class="currency-label">💰</span>
                    <span id="gameCurrency" class="currency-amount">0</span>
                </div>
                <div class="speed-controls">
                    <label>速度:</label>
                    <button id="speed1x" class="speed-btn active">1x</button>
                    <button id="speed2x" class="speed-btn">2x</button>
                    <button id="speed3x" class="speed-btn">3x</button>
                </div>
                <button id="openShopInGame" class="btn btn-small" style="display: none;">ショップ</button>
                <button id="pauseBtn" class="btn btn-small">一時停止</button>
                <button id="menuBtn" class="btn btn-small">メニュー</button>
            </div>
        </header>
        
        <div id="gameContainer">
            <canvas id="gameCanvas" width="1200" height="700"></canvas>
            <div id="tooltip" class="building-tooltip" style="display: none;"></div>
            
            <!-- アクティブアイテム表示 -->
            <div id="activeItems" class="active-items">
                <!-- アクティブなアイテムが表示されます -->
            </div>
        </div>
        
        <div class="ui-panel">
            <div class="memory-stats">
                <div class="memory-stat">
                    <div class="memory-icon love"></div>
                    <div>
                        <div class="stat-label">LOVE</div>
                        <div class="stat-value" id="loveCount">0</div>
                    </div>
                </div>
                <div class="memory-stat">
                    <div class="memory-icon knowledge"></div>
                    <div>
                        <div class="stat-label">KNOWLEDGE</div>
                        <div class="stat-value" id="knowledgeCount">0</div>
                    </div>
                </div>
                <div class="memory-stat">
                    <div class="memory-icon adventure"></div>
                    <div>
                        <div class="stat-label">ADVENTURE</div>
                        <div class="stat-value" id="adventureCount">0</div>
                    </div>
                </div>
                <div class="memory-stat">
                    <div class="memory-icon peace"></div>
                    <div>
                        <div class="stat-label">PEACE</div>
                        <div class="stat-value" id="peaceCount">0</div>
                    </div>
                </div>
                <div class="memory-stat">
                    <div class="memory-icon nostalgia"></div>
                    <div>
                        <div class="stat-label">NOSTALGIA</div>
                        <div class="stat-value" id="nostalgiaCount">0</div>
                    </div>
                </div>
                <div class="memory-stat">
                    <div class="memory-icon courage"></div>
                    <div>
                        <div class="stat-label">COURAGE</div>
                        <div class="stat-value" id="courageCount">0</div>
                    </div>
                </div>
            </div>
            <div class="game-stats">
                <div class="game-stat-item">
                    <div class="stat-label">市民満足度</div>
                    <div class="stat-value" id="satisfaction">0%</div>
                </div>
                <div class="game-stat-item">
                    <div class="stat-label">経過時間</div>
                    <div class="stat-value" id="gameTime">0s</div>
                </div>
                <div class="game-stat-item">
                    <div class="stat-label">昇天した魂</div>
                    <div class="stat-value" id="dissolvedCount">0</div>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>